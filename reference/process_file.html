<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Process a File to Generate Normalised Data and Reports — process_file • SerolyzeR</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Process a File to Generate Normalised Data and Reports — process_file"><meta name="description" content="This function reads a Luminex plate file by calling read_luminex_data() and then processes it by calling process_plate(). It optionally generates also a quality control report using generate_plate_report().
It reads the specified plate file, processes the plate object using all specified normalisation types (including raw MFI values), and saves the results.
If generate_report = TRUE, a quality control report is also generated.
Workflow


Read the plate file and layout file.
Process the plate data using the specified normalisation types (MFI, RAU, nMFI).
Save the processed data to CSV files in the specified output_dir. The files are named as {plate_name}_{normalisation_type}.csv.
Optionally, generate a quality control report. The report is saved as an HTML file in the output_dir, under the name {plate_name}_report.html.



"><meta property="og:description" content="This function reads a Luminex plate file by calling read_luminex_data() and then processes it by calling process_plate(). It optionally generates also a quality control report using generate_plate_report().
It reads the specified plate file, processes the plate object using all specified normalisation types (including raw MFI values), and saves the results.
If generate_report = TRUE, a quality control report is also generated.
Workflow


Read the plate file and layout file.
Process the plate data using the specified normalisation types (MFI, RAU, nMFI).
Save the processed data to CSV files in the specified output_dir. The files are named as {plate_name}_{normalisation_type}.csv.
Optionally, generate a quality control report. The report is saved as an HTML file in the output_dir, under the name {plate_name}_report.html.



"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SerolyzeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/example_script.html">Basic SerolyzeR functionalities</a></li>
    <li><a class="dropdown-item" href="../articles/multiplate_tutorial.html">Multiplate SerolyzeR functionalities</a></li>
    <li><a class="dropdown-item" href="../articles/our_datasets.html">Our datasets</a></li>
    <li><a class="dropdown-item" href="../articles/our_plots.html">SerolyzeR plots</a></li>
    <li><a class="dropdown-item" href="../articles/our_reports.html">SerolyzeR HTML reports</a></li>
    <li><a class="dropdown-item" href="../articles/parsers.html">Raw data parsers</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mini-pw/SerolyzeR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Process a File to Generate Normalised Data and Reports</h1>
      <small class="dont-index">Source: <a href="https://github.com/mini-pw/SerolyzeR/blob/v1.1.0/R/process-file.R" class="external-link"><code>R/process-file.R</code></a></small>
      <div class="d-none name"><code>process_file.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function reads a Luminex plate file by calling <code><a href="read_luminex_data.html">read_luminex_data()</a></code> and then processes it by calling <code><a href="process_plate.html">process_plate()</a></code>. It optionally generates also a quality control report using <code><a href="generate_plate_report.html">generate_plate_report()</a></code>.
It reads the specified plate file, processes the plate object using all specified normalisation types (including raw MFI values), and saves the results.
If <code>generate_report = TRUE</code>, a quality control report is also generated.</p><div class="section">
<h3 id="workflow">Workflow<a class="anchor" aria-label="anchor" href="#workflow"></a></h3>

<ol><li><p>Read the plate file and layout file.</p></li>
<li><p>Process the plate data using the specified normalisation types (<code>MFI</code>, <code>RAU</code>, <code>nMFI</code>).</p></li>
<li><p>Save the processed data to CSV files in the specified <code>output_dir</code>. The files are named as <code>{plate_name}_{normalisation_type}.csv</code>.</p></li>
<li><p>Optionally, generate a quality control report. The report is saved as an HTML file in the <code>output_dir</code>, under the name <code>{plate_name}_report.html</code>.</p></li>
</ol></div>

    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">process_file</span><span class="op">(</span></span>
<span>  <span class="va">plate_filepath</span>,</span>
<span>  <span class="va">layout_filepath</span>,</span>
<span>  output_dir <span class="op">=</span> <span class="st">"normalised_data"</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"xPONENT"</span>,</span>
<span>  generate_report <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  process_plate <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  normalisation_types <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MFI"</span>, <span class="st">"RAU"</span>, <span class="st">"nMFI"</span><span class="op">)</span>,</span>
<span>  blank_adjustment <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-plate-filepath">plate_filepath<a class="anchor" aria-label="anchor" href="#arg-plate-filepath"></a></dt>
<dd><p>(<code>character(1)</code>) Path to the Luminex plate file.</p></dd>


<dt id="arg-layout-filepath">layout_filepath<a class="anchor" aria-label="anchor" href="#arg-layout-filepath"></a></dt>
<dd><p>(<code>character(1)</code>) Path to the corresponding layout file.</p></dd>


<dt id="arg-output-dir">output_dir<a class="anchor" aria-label="anchor" href="#arg-output-dir"></a></dt>
<dd><p>(<code>character(1)</code>, default = <code>'normalised_data'</code>)</p><ul><li><p>Directory where the output files will be saved.</p></li>
<li><p>If it does not exist, it will be created.</p></li>
</ul></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p>(<code>character(1)</code>, default = <code>'xPONENT'</code>)</p><ul><li><p>Format of the Luminex data.</p></li>
<li><p>Available options: <code>'xPONENT'</code>, <code>'INTELLIFLEX'</code>.</p></li>
</ul></dd>


<dt id="arg-generate-report">generate_report<a class="anchor" aria-label="anchor" href="#arg-generate-report"></a></dt>
<dd><p>(<code>logical(1)</code>, default = <code>FALSE</code>)</p><ul><li><p>If <code>TRUE</code>, generates a quality control report using <code><a href="generate_plate_report.html">generate_plate_report()</a></code>.</p></li>
</ul></dd>


<dt id="arg-process-plate">process_plate<a class="anchor" aria-label="anchor" href="#arg-process-plate"></a></dt>
<dd><p>(<code>logical(1)</code>, default = <code>TRUE</code>)</p><ul><li><p>If <code>TRUE</code>, processes the plate data using <code><a href="process_plate.html">process_plate()</a></code>.</p></li>
<li><p>If <code>FALSE</code>, only reads the plate file and returns the plate object without processing.</p></li>
</ul></dd>


<dt id="arg-normalisation-types">normalisation_types<a class="anchor" aria-label="anchor" href="#arg-normalisation-types"></a></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>, default = <code>c("MFI", "RAU", "nMFI")</code>)</p><ul><li><p>List of normalisation types to apply.</p></li>
<li><p>Supported values: <code>c("MFI", "RAU", "nMFI")</code>.</p></li>
</ul></dd>


<dt id="arg-blank-adjustment">blank_adjustment<a class="anchor" aria-label="anchor" href="#arg-blank-adjustment"></a></dt>
<dd><p>(<code>logical(1)</code>, default = <code>FALSE</code>)</p><ul><li><p>If <code>TRUE</code>, performs blank adjustment before processing.</p></li>
</ul></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>(<code>logical(1)</code>, default = <code>TRUE</code>)</p><ul><li><p>If <code>TRUE</code>, prints additional information during execution.</p></li>
</ul></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to <code><a href="read_luminex_data.html">read_luminex_data()</a></code> and <code><a href="generate_plate_report.html">generate_plate_report()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code><a href="Plate.html">Plate</a></code> object containing the processed data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example 1: Process a plate file with default settings (all normalisation types)</span></span></span>
<span class="r-in"><span><span class="va">plate_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"CovidOISExPONTENT_CO_reduced.csv"</span>, package <span class="op">=</span> <span class="st">"SerolyzeR"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">layout_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"CovidOISExPONTENT_CO_layout.xlsx"</span>, package <span class="op">=</span> <span class="st">"SerolyzeR"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">example_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span>check <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">process_file</span><span class="op">(</span><span class="va">plate_file</span>, <span class="va">layout_file</span>, output_dir <span class="op">=</span> <span class="va">example_dir</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Reading Luminex data from: /home/runner/work/_temp/Library/SerolyzeR/extdata/CovidOISExPONTENT_CO_reduced.csv</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> using format xPONENT</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Could not parse datetime string using default datetime format. Trying other possibilies.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Successfully parsed datetime string using order: mdY IM p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">New plate object has been created with name: CovidOISExPONTENT_CO_reduced!</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing plate 'CovidOISExPONTENT_CO_reduced'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Extracting the raw MFI to the output dataframe</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Saving the computed MFI values to a CSV file located in: '/tmp/Rtmpn5LAtP/CovidOISExPONTENT_CO_reduced_MFI.csv'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fitting the models and predicting RAU for each analyte</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Saving the computed RAU values to a CSV file located in: '/tmp/Rtmpn5LAtP/CovidOISExPONTENT_CO_reduced_RAU.csv'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computing nMFI values for each analyte</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Saving the computed nMFI values to a CSV file located in: '/tmp/Rtmpn5LAtP/CovidOISExPONTENT_CO_reduced_nMFI.csv'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Plate with 49 samples and 2 analytes</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2: Process the plate for only RAU normalisation</span></span></span>
<span class="r-in"><span><span class="fu">process_file</span><span class="op">(</span><span class="va">plate_file</span>, <span class="va">layout_file</span>, output_dir <span class="op">=</span> <span class="va">example_dir</span>, normalisation_types <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RAU"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Reading Luminex data from: /home/runner/work/_temp/Library/SerolyzeR/extdata/CovidOISExPONTENT_CO_reduced.csv</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> using format xPONENT</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Could not parse datetime string using default datetime format. Trying other possibilies.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Successfully parsed datetime string using order: mdY IM p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">New plate object has been created with name: CovidOISExPONTENT_CO_reduced!</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing plate 'CovidOISExPONTENT_CO_reduced'</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The specified file /tmp/Rtmpn5LAtP/CovidOISExPONTENT_CO_reduced_RAU.csv already exists. Overwriting it.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fitting the models and predicting RAU for each analyte</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Saving the computed RAU values to a CSV file located in: '/tmp/Rtmpn5LAtP/CovidOISExPONTENT_CO_reduced_RAU.csv'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Plate with 49 samples and 2 analytes</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 3: Process the plate and generate a quality control report</span></span></span>
<span class="r-in"><span><span class="fu">process_file</span><span class="op">(</span><span class="va">plate_file</span>, <span class="va">layout_file</span>, output_dir <span class="op">=</span> <span class="va">example_dir</span>, generate_report <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Reading Luminex data from: /home/runner/work/_temp/Library/SerolyzeR/extdata/CovidOISExPONTENT_CO_reduced.csv</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> using format xPONENT</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Could not parse datetime string using default datetime format. Trying other possibilies.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Successfully parsed datetime string using order: mdY IM p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">New plate object has been created with name: CovidOISExPONTENT_CO_reduced!</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing plate 'CovidOISExPONTENT_CO_reduced'</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The specified file /tmp/Rtmpn5LAtP/CovidOISExPONTENT_CO_reduced_MFI.csv already exists. Overwriting it.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Extracting the raw MFI to the output dataframe</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Saving the computed MFI values to a CSV file located in: '/tmp/Rtmpn5LAtP/CovidOISExPONTENT_CO_reduced_MFI.csv'</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The specified file /tmp/Rtmpn5LAtP/CovidOISExPONTENT_CO_reduced_RAU.csv already exists. Overwriting it.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fitting the models and predicting RAU for each analyte</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Saving the computed RAU values to a CSV file located in: '/tmp/Rtmpn5LAtP/CovidOISExPONTENT_CO_reduced_RAU.csv'</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The specified file /tmp/Rtmpn5LAtP/CovidOISExPONTENT_CO_reduced_nMFI.csv already exists. Overwriting it.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computing nMFI values for each analyte</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Saving the computed nMFI values to a CSV file located in: '/tmp/Rtmpn5LAtP/CovidOISExPONTENT_CO_reduced_nMFI.csv'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generating report...This will take approximately 30 seconds.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The specified file /tmp/Rtmpn5LAtP/CovidOISExPONTENT_CO_reduced_report.html already exists. Overwriting it.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Report successfully generated, saving to: /tmp/Rtmpn5LAtP</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Plate with 49 samples and 2 analytes</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tymoteusz Kwiecinski, Jakub Grzywaczewski, Mateusz Nizwantowski.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

