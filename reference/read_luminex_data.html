<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Read Luminex Data — read_luminex_data • SerolyzeR</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Read Luminex Data — read_luminex_data"><meta name="description" content="Reads a Luminex plate file and returns a Plate object containing the extracted data.
Optionally, a layout file can be provided to specify the arrangement of samples on the plate."><meta property="og:description" content="Reads a Luminex plate file and returns a Plate object containing the extracted data.
Optionally, a layout file can be provided to specify the arrangement of samples on the plate."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SerolyzeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/example_script.html">Basic SerolyzeR functionalities</a></li>
    <li><a class="dropdown-item" href="../articles/multiplate_tutorial.html">Multiplate SerolyzeR functionalities</a></li>
    <li><a class="dropdown-item" href="../articles/our_datasets.html">Our datasets</a></li>
    <li><a class="dropdown-item" href="../articles/our_plots.html">SerolyzeR plots</a></li>
    <li><a class="dropdown-item" href="../articles/our_reports.html">SerolyzeR HTML reports</a></li>
    <li><a class="dropdown-item" href="../articles/parsers.html">Raw data parsers</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mini-pw/SerolyzeR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Read Luminex Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/mini-pw/SerolyzeR/blob/main/R/parser.R" class="external-link"><code>R/parser.R</code></a></small>
      <div class="d-none name"><code>read_luminex_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Reads a Luminex plate file and returns a <a href="Plate.html">Plate</a> object containing the extracted data.
Optionally, a layout file can be provided to specify the arrangement of samples on the plate.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_luminex_data</span><span class="op">(</span></span>
<span>  <span class="va">plate_filepath</span>,</span>
<span>  layout_filepath <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"xPONENT"</span>,</span>
<span>  plate_file_separator <span class="op">=</span> <span class="st">","</span>,</span>
<span>  plate_file_encoding <span class="op">=</span> <span class="st">"UTF-8"</span>,</span>
<span>  use_layout_sample_names <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  use_layout_types <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  use_layout_dilutions <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  default_data_type <span class="op">=</span> <span class="st">"Median"</span>,</span>
<span>  sample_types <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dilutions <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-plate-filepath">plate_filepath<a class="anchor" aria-label="anchor" href="#arg-plate-filepath"></a></dt>
<dd><p>(<code>character(1)</code>) Path to the Luminex plate file.</p></dd>


<dt id="arg-layout-filepath">layout_filepath<a class="anchor" aria-label="anchor" href="#arg-layout-filepath"></a></dt>
<dd><p>(<code>character(1)</code>, optional) Path to the Luminex layout file.</p></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p>(<code>character(1)</code>, default = <code>'xPONENT'</code>)</p><ul><li><p>The format of the Luminex data file.</p></li>
<li><p>Supported formats: <code>'xPONENT'</code>, <code>'INTELLIFLEX'</code>.</p></li>
</ul></dd>


<dt id="arg-plate-file-separator">plate_file_separator<a class="anchor" aria-label="anchor" href="#arg-plate-file-separator"></a></dt>
<dd><p>(<code>character(1)</code>, default = <code>','</code>)</p><ul><li><p>The delimiter used in the plate file (CSV format). Used only for the xPONENT format.</p></li>
</ul></dd>


<dt id="arg-plate-file-encoding">plate_file_encoding<a class="anchor" aria-label="anchor" href="#arg-plate-file-encoding"></a></dt>
<dd><p>(<code>character(1)</code>, default = <code>'UTF-8'</code>)</p><ul><li><p>The encoding used for reading the plate file. Used only for the xPONENT format.</p></li>
</ul></dd>


<dt id="arg-use-layout-sample-names">use_layout_sample_names<a class="anchor" aria-label="anchor" href="#arg-use-layout-sample-names"></a></dt>
<dd><p>(<code>logical(1)</code>, default = <code>TRUE</code>)</p><ul><li><p>Whether to use sample names from the layout file.</p></li>
</ul></dd>


<dt id="arg-use-layout-types">use_layout_types<a class="anchor" aria-label="anchor" href="#arg-use-layout-types"></a></dt>
<dd><p>(<code>logical(1)</code>, default = <code>TRUE</code>)</p><ul><li><p>Whether to use sample types from the layout file (requires a layout file).</p></li>
</ul></dd>


<dt id="arg-use-layout-dilutions">use_layout_dilutions<a class="anchor" aria-label="anchor" href="#arg-use-layout-dilutions"></a></dt>
<dd><p>(<code>logical(1)</code>, default = <code>TRUE</code>)</p><ul><li><p>Whether to use dilution values from the layout file (requires a layout file).</p></li>
</ul></dd>


<dt id="arg-default-data-type">default_data_type<a class="anchor" aria-label="anchor" href="#arg-default-data-type"></a></dt>
<dd><p>(<code>character(1)</code>, default = <code>'Median'</code>)</p><ul><li><p>The default data type used if none is explicitly provided.</p></li>
</ul></dd>


<dt id="arg-sample-types">sample_types<a class="anchor" aria-label="anchor" href="#arg-sample-types"></a></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>, optional) A vector of sample types to override extracted values.</p></dd>


<dt id="arg-dilutions">dilutions<a class="anchor" aria-label="anchor" href="#arg-dilutions"></a></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric()</a></code>, optional) A vector of dilutions to override extracted values.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>(<code>logical(1)</code>, default = <code>TRUE</code>)</p><ul><li><p>Whether to print additional information and warnings.</p></li>
</ul></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments. Ignored in this method. Here included for better integration with the pipeline</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <a href="Plate.html">Plate</a> object containing the parsed Luminex data.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function supports two Luminex data formats:</p><ul><li><p><strong>xPONENT</strong>: Used by older Luminex machines.</p></li>
<li><p><strong>INTELLIFLEX</strong>: Used by newer Luminex devices.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="workflow">Workflow<a class="anchor" aria-label="anchor" href="#workflow"></a></h2>


<ol><li><p>Validate input parameters, ensuring the specified format is supported.</p></li>
<li><p>Read the plate file using the appropriate parser:</p><ul><li><p>xPONENT files are read using <code><a href="read_xponent_format.html">read_xponent_format()</a></code>.</p></li>
<li><p>INTELLIFLEX files are read using <code><a href="read_intelliflex_format.html">read_intelliflex_format()</a></code>.</p></li>
</ul></li>
<li><p>Post-process the extracted data:</p><ul><li><p>Validate required data columns (<code>Median</code>, <code>Count</code>).</p></li>
<li><p>Extract sample locations and analyte names.</p></li>
<li><p>Parse the date and time of the experiment.</p></li>
</ul></li>
</ol></div>
    <div class="section level2">
    <h2 id="file-structure">File Structure<a class="anchor" aria-label="anchor" href="#file-structure"></a></h2>


<ul><li><p><strong>Plate File (<code>plate_filepath</code>)</strong>: A CSV file containing Luminex fluorescence intensity data.</p></li>
<li><p><strong>Layout File (<code>layout_filepath</code>)</strong> (optional): An Excel or CSV file containing the plate layout.</p><ul><li><p>The layout file should contain a table with <strong>8 rows and 12 columns</strong>, where each cell corresponds to a well location.</p></li>
<li><p>The values in the table represent the sample names for each well.</p></li>
</ul></li>
</ul></div>
    <div class="section level2">
    <h2 id="sample-types-detection">Sample types detection<a class="anchor" aria-label="anchor" href="#sample-types-detection"></a></h2>



<p>The <code>read_luminex_data()</code> method automatically detects the sample types based on the sample names, unless provided the <code>sample_types</code> parameter.
The sample types are detected used the <code><a href="translate_sample_names_to_sample_types.html">translate_sample_names_to_sample_types()</a></code> method.
In the documentation of this method, which can be accessed with command <code><a href="translate_sample_names_to_sample_types.html">?translate_sample_names_to_sample_types</a></code>, you can find the detailed description of the sample types detection.</p><div class="section">
<h3 id="duplicates-in-sample-names">Duplicates in sample names<a class="anchor" aria-label="anchor" href="#duplicates-in-sample-names"></a></h3>


<p>In some cases, we want to analyse the sample with the same name twice on one plate. The package allows for such situations, but we assume that the user knows what they are doing.</p>
<p>When importing sample names (either from the layout file or the plate file), the function will check for duplicates. If any are found, it will issue a warning like:</p>
<p><strong>Duplicate sample names detected: A, B. Renaming to make them unique.</strong></p>
<p>Then it will add simple numeric suffixes (e.g. “.1”, “.2”) to the repeated sample names so that every name is unique while keeping the original text easy to recognize.</p>
</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Read a Luminex plate file with an associated layout file</span></span></span>
<span class="r-in"><span><span class="va">plate_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"CovidOISExPONTENT.csv"</span>, package <span class="op">=</span> <span class="st">"SerolyzeR"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">layout_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"CovidOISExPONTENT_layout.csv"</span>, package <span class="op">=</span> <span class="st">"SerolyzeR"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">plate</span> <span class="op">&lt;-</span> <span class="fu">read_luminex_data</span><span class="op">(</span><span class="va">plate_file</span>, <span class="va">layout_file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Reading Luminex data from: /home/runner/work/_temp/Library/SerolyzeR/extdata/CovidOISExPONTENT.csv</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> using format xPONENT</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Failed to extract from BatchMetadata: BatchStartTime not found in BatchMetadata.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> BatchStartTime successfully extracted from the header.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Could not parse datetime string using default datetime format. Trying other possibilies.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Successfully parsed datetime string using order: mdY IMS p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">New plate object has been created with name: CovidOISExPONTENT!</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Read a Luminex plate file without a layout file</span></span></span>
<span class="r-in"><span><span class="va">plate_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"CovidOISExPONTENT_CO.csv"</span>, package <span class="op">=</span> <span class="st">"SerolyzeR"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">plate</span> <span class="op">&lt;-</span> <span class="fu">read_luminex_data</span><span class="op">(</span><span class="va">plate_file</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Could not parse datetime string using default datetime format. Trying other possibilies.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Successfully parsed datetime string using order: mdY IMS p</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Duplicate sample names detected: S. Renaming to make them unique.</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jakub Grzywaczewski, Tymoteusz Kwiecinski, Mateusz Nizwantowski.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

